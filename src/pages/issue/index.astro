---
import { getEntry } from "astro:content";
import { BlogName, IssuePageProps } from "@/config";
import Layout from "@/layouts/Layout.astro";
import IssueList from "@/components/Issue/IssueList.astro";
import PageBanner from "@/components/Banner/PageBanner.astro";

const issueOrigin = await getEntry("issue", "index");
const issues = issueOrigin.data.issues
  .map((item) => item)
  .sort((a, b) => b.id - a.id);
---

<Layout title={`${BlogName} - ${IssuePageProps.title}`}>
  <main
    class="sm:mt-24 mt-16 sm:min-h-0 min-h-main mx-0 sm:mx-16 lg:mx-auto max-w-4xl shadow-lg rounded-sm bg-primary"
  >
    <PageBanner
      title={IssuePageProps.title}
      description={IssuePageProps.description}
      imgsrc={IssuePageProps.banner}
      select={2}
    />
    <div class="content px-4 sm:px-12 pb-6 w-full">
      <IssueList issues={issues} />
    </div>
  </main>
</Layout>
