---
import dayjs from "dayjs";
import LazyImage from "../LazyImages/LazyImage.astro";

interface Props {
  post: {
    title: string;
    description: string;
    date: Date;
    category: string;
    cover: string;
    author: string;
    id: number;
  };
  slug: string;
}

const { post, slug } = Astro.props;
---

<div class="flex py-4 h-48">
  <div class="flex flex-col justify-between">
    <h3 class="text-lg sm:text-xl font-bold line-clamp-1">
      <a class="hover:text-link transition-colors" href={`/p/${slug}`}>
        {post.title}
      </a>
    </h3>
    <p
      class="my-4 flex-grow-0 text-sm/8 sm:text-base/8 line-clamp-2 text-justify"
    >
      <a class="hover:text-link transition-colors" href={`/p/${slug}`}>
        {post.description}
      </a>
    </p>
    <div
      class="text-secondary truncate sm:text-sm text-xs space-x-2 sm:space-x-4"
    >
      <span>{dayjs(post.date).format("YYYY.MM.DD")}</span>
      <span>/</span>
      <span>{post.category}</span>
    </div>
  </div>
  <div class="basis-1/3 shrink-0 ml-8 my-4 overflow-hidden">
    <a href={`/p/${slug}`}>
      <LazyImage
        className="rounded-sm hover:scale-150 transition-transform"
        src={post.cover}
        alt={post.title}
      />
    </a>
  </div>
</div>
